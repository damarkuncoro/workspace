<%# View: CustomerDevices#index
  Tanggung jawab:
  - Merender header halaman memakai shared page_header (DRY & konsistensi)
  - Menampilkan tabel rental melalui partial terpisah (SRP)
  Catatan:
  - Tombol aksi "Rent Device" hanya muncul bila @customer tersedia
  - Gunakan Device#label sebagai nama tampil perangkat
%>

<%= render 'protected/shared/partials/page_header',
  title: 'Device Rentals',
  subtitle: 'Manage customer device rentals and returns',
  actions_html: (
    @customer.present? ?
      link_to(new_protected_customer_device_path(@customer), class: "kt-btn kt-btn-primary") do
        raw('<i class="ki-filled ki-plus"></i> Rent Device')
      end : nil
  ) %>

<%= render 'protected/customer_devices/partials/table' %>
