<%# View: Show DeviceType
  Tujuan: Konsistensi tampilan menggunakan page_header, partial show_details, dan page_actions.
  Prinsip: SRP & DRY â€” detail via partial, daftar perangkat via partial.
%>

<%= render 'protected/shared/partials/page_header',
  title: 'Detail Tipe Perangkat',
  subtitle: @device_type.name %>


  <%# Bagian detail tipe perangkat %>
  <%= render 'protected/device_types/partials/show_details' %>

  <%# Statistik perangkat untuk tipe ini %>
  <%= render 'protected/device_types/partials/show_stats' %>

  <%# Tabel perangkat terkait %>
  <%= render 'protected/devices/partials/table',
    records: @device_type.devices,
    namespace: :protected,
    resource_singular: :device,
    resource_plural: :devices %>

  <%# Aksi halaman %>
  <% links = [] %>
  <% links << link_to(edit_protected_device_type_path(@device_type), class: 'kt-btn kt-btn-primary') { 'Ubah Tipe' } %>
  <% links << link_to(protected_device_types_path, class: 'kt-btn kt-btn-outline') { 'Kembali ke Daftar Tipe' } %>
  <% if @device_type.devices.empty? %>
    <% links << button_to(protected_device_type_path(@device_type), method: :delete, data: { confirm: 'Yakin hapus tipe perangkat ini?' }, class: 'kt-btn kt-btn-danger') { 'Hapus Tipe' } %>
  <% end %>

  <%= render 'protected/shared/partials/page_actions', card: false, justify: 'justify-center', links: links %>

