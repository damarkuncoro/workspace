<%# Partial: Tabel DeviceTypes
  Tujuan: Menampilkan daftar tipe perangkat dengan aksi utama.
  Prinsip: DRY & KISS â€” gunakan KT card wrapper dengan tabel sederhana.
%>

<%= kt_card do %>
  <%= kt_card_header(title: "Daftar Tipe Perangkat") %>
  <%= kt_card_content(padding: "p-0") do %>
    <% if @device_types.present? %>
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nama</th>
            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Deskripsi</th>
            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Jumlah Perangkat</th>
            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Dibuat</th>
            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Aksi</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <% @device_types.each do |dt| %>
            <tr>
              <td class="px-4 py-3 text-sm text-gray-900"><%= dt.name %></td>
              <td class="px-4 py-3 text-sm text-gray-700"><%= dt.description.presence || '-' %></td>
              <td class="px-4 py-3 text-sm text-gray-700"><%= dt.devices.size %></td>
              <td class="px-4 py-3 text-sm text-gray-700"><%= l dt.created_at, format: :short %></td>
              <td class="px-4 py-3 text-sm">
                <div class="flex gap-2">
                  <%= link_to "Lihat", protected_device_type_path(dt), class: "kt-btn kt-btn-light" %>
                  <%= link_to "Ubah", edit_protected_device_type_path(dt), class: "kt-btn kt-btn-secondary" %>
                </div>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    <% else %>
      <div class="p-4">
        <p class="text-gray-600">Belum ada tipe perangkat yang terdaftar.</p>
        <div class="mt-3">
          <%= link_to "Buat Tipe Baru", new_protected_device_type_path, class: "kt-btn kt-btn-primary" %>
        </div>
      </div>
    <% end %>
  <% end %>
<% end %>

