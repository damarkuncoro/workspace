<%# Partial: Statistik Perangkat untuk DeviceType
  Tujuan: Menampilkan ringkasan jumlah perangkat per status dalam KT Card.
  Prinsip: SRP â€” hanya statistik; sumber data dari @device_type di view induk.
%>

<%= kt_card do %>
  <%= kt_card_header(title: 'Statistik Perangkat') %>
  <%= kt_card_content do %>
    <% total = @device_type.devices.count %>
    <% available = @device_type.devices.respond_to?(:available) ? @device_type.devices.available.count : 0 %>
    <% rented = @device_type.devices.respond_to?(:rented) ? @device_type.devices.rented.count : 0 %>
    <% maintenance = @device_type.devices.respond_to?(:maintenance) ? @device_type.devices.maintenance.count : 0 %>

    <%= kt_grid(cols: 1, cols_md: 2, cols_lg: 4, gap: 4) do %>
      <div class="p-4 rounded border bg-card">
        <div class="text-sm text-secondary-foreground">Total Perangkat</div>
        <div class="text-2xl font-bold"><%= total %></div>
      </div>
      <div class="p-4 rounded border bg-card">
        <div class="text-sm text-secondary-foreground">Tersedia</div>
        <div class="text-2xl font-bold"><%= available %></div>
      </div>
      <div class="p-4 rounded border bg-card">
        <div class="text-sm text-secondary-foreground">Disewa</div>
        <div class="text-2xl font-bold"><%= rented %></div>
      </div>
      <div class="p-4 rounded border bg-card">
        <div class="text-sm text-secondary-foreground">Maintenance</div>
        <div class="text-2xl font-bold"><%= maintenance %></div>
      </div>
    <% end %>
  <% end %>
<% end %>

