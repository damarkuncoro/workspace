

<% if @account.person&.employee.present? %>
  <%= kt_card do %>
    <%= kt_card_header do %>
      <h3 class="kt-card-title flex items-center gap-2">
        <i class="ki-filled ki-user text-lg"></i>
        Employee Information
      </h3>
    <% end %>
    <%= kt_card_content do %>
      <div class="grid gap-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="grid gap-4">
             <%= kt_info_row(label: "Employee Code", value: @account.person.employee.employee_code) %>
             <%= kt_info_row(label: "Status") do %>
               <span class="<%= @account.person.employee.status == 'active' ? 'kt-badge kt-badge-success' : 'kt-badge kt-badge-secondary' %>">
                 <%= @account.person.employee.status %>
               </span>
             <% end %>
          </div>
          <div class="grid gap-4">
             <%= kt_info_row(label: "Employee Created At", value: l(@account.person.employee.created_at)) %>
             <%= kt_info_row(label: "Employee Updated At", value: l(@account.person.employee.updated_at)) %>
          </div>
        </div>
      </div>
      <%= kt_card_footer(justify: "justify-start", class_name: "gap-3") do %>
        <%= link_to 'View Employee Details', protected_employee_path(@account.person.employee), class: 'kt-btn kt-btn-primary' %>
        <%= link_to 'View Employee Issues', protected_employee_issues_path(@account.person.employee), class: 'kt-btn kt-btn-warning' %>
      <% end %>
    <% end %>
  <% end %>
<% elsif @account.person.present? %>
  <%= kt_card do %>
    <%= kt_card_header do %>
      <h3 class="kt-card-title flex items-center gap-2">
        <i class="ki-filled ki-plus text-lg"></i>
        Create Employee Profile
      </h3>
    <% end %>
    <%= kt_card_content do %>
      <p class="text-sm text-secondary-foreground mb-4">This account doesn't have an employee profile yet. Create one to manage employee-specific information and issues.</p>
      <%= link_to 'Create Employee Profile', new_protected_account_employee_path(@account), class: 'kt-btn kt-btn-success' %>
    <% end %>
  <% end %>
<% end %>