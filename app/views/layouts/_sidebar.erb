<div class="kt-sidebar bg-background border-e border-e-border fixed top-0 bottom-0 z-20 hidden lg:flex flex-col items-stretch shrink-0" 
     data-kt-drawer="true" 
     data-kt-drawer-class="kt-drawer kt-drawer-start top-0 bottom-0" 
     id="sidebar">
  
  <!-- Sidebar Header -->
  <div class="kt-sidebar-header hidden lg:flex items-center relative justify-between px-3 lg:px-6 shrink-0" id="sidebar_header">
    <%= link_to root_path, class: "dark:hidden" do %>
      <%= image_tag "app/default-logo.svg", class: "default-logo min-h-[22px] max-w-none" %>
      <%= image_tag "app/mini-logo.svg", class: "small-logo min-h-[22px] max-w-none" %>
    <% end %>
    
    <%= link_to root_path, class: "hidden dark:block" do %>
      <%= image_tag "app/default-logo-dark.svg", class: "default-logo min-h-[22px] max-w-none" %>
      <%= image_tag "app/mini-logo.svg", class: "small-logo min-h-[22px] max-w-none" %>
    <% end %>
    
    <button class="kt-btn kt-btn-outline kt-btn-icon size-[30px] absolute start-full top-2/4 -translate-x-2/4 -translate-y-2/4" 
            data-kt-toggle="body" 
            data-kt-toggle-class="kt-sidebar-collapse" 
            id="sidebar_toggle">
      <i class="ki-filled ki-black-left-line kt-toggle-active:rotate-180 transition-all duration-300"></i>
    </button>
  </div>
  
  <!-- Sidebar Content -->
  <div class="kt-sidebar-content flex grow shrink-0 py-5 pe-2" id="sidebar_content">
    <div class="kt-scrollable-y-hover grow shrink-0 flex ps-2 lg:ps-5 pe-1 lg:pe-3" 
         data-kt-scrollable="true" 
         id="sidebar_scrollable">
      
      <!-- Sidebar Menu -->
      <div class="kt-menu flex flex-col grow gap-1" data-kt-menu="true" id="sidebar_menu">
        
        <!-- Dashboards -->
        <div class="kt-menu-item <%= 'here show' if current_page?(root_path) %>" 
             data-kt-menu-item-toggle="accordion" 
             data-kt-menu-item-trigger="click">
          <div class="kt-menu-link flex items-center grow cursor-pointer border border-transparent gap-[10px] ps-[10px] pe-[10px] py-[6px]">
            <span class="kt-menu-icon items-start text-muted-foreground w-[20px]">
              <i class="ki-filled ki-element-11 text-lg"></i>
            </span>
            <span class="kt-menu-title text-sm font-medium text-foreground">Dashboards</span>
            <span class="kt-menu-arrow text-muted-foreground w-[20px] shrink-0 justify-end ms-1 me-[-10px]">
              <span class="inline-flex kt-menu-item-show:hidden">
                <i class="ki-filled ki-plus text-[11px]"></i>
              </span>
              <span class="hidden kt-menu-item-show:inline-flex">
                <i class="ki-filled ki-minus text-[11px]"></i>
              </span>
            </span>
          </div>
          
          <div class="kt-menu-accordion gap-1 ps-[10px] relative before:absolute before:start-[20px] before:top-0 before:bottom-0 before:border-s before:border-border">
            <div class="kt-menu-item <%= 'active' if current_page?(root_path) %>">
              <%= link_to root_path, class: "kt-menu-link border border-transparent items-center grow kt-menu-item-active:bg-accent/60 hover:bg-accent/60 hover:rounded-lg gap-[14px] ps-[10px] pe-[10px] py-[8px]" do %>
                <span class="kt-menu-bullet flex w-[6px] -start-[3px] relative before:absolute before:top-0 before:size-[6px] before:rounded-full before:-translate-y-1/2 kt-menu-item-active:before:bg-primary"></span>
                <span class="kt-menu-title text-2sm font-normal text-foreground kt-menu-item-active:text-primary kt-menu-item-active:font-semibold">
                  Light Sidebar
                </span>
              <% end %>
            </div>
            
            <div class="kt-menu-item">
              <%= link_to "#", class: "kt-menu-link border border-transparent items-center grow hover:bg-accent/60 hover:rounded-lg gap-[14px] ps-[10px] pe-[10px] py-[8px]" do %>
                <span class="kt-menu-bullet flex w-[6px] -start-[3px] relative before:absolute before:top-0 before:size-[6px] before:rounded-full before:-translate-y-1/2"></span>
                <span class="kt-menu-title text-2sm font-normal text-foreground">Dark Sidebar</span>
              <% end %>
            </div>
          </div>
        </div>
        
        <!-- Section Heading -->
        <div class="kt-menu-item pt-2.25 pb-px">
          <span class="kt-menu-heading uppercase text-xs font-medium text-muted-foreground ps-[10px] pe-[10px]">
            User
          </span>
        </div>
        
        <!-- Public Profile -->
        <%= render 'layouts/sidebar/public_profile_menu' %>
        
        <!-- My Account -->
        <%= render 'layouts/sidebar/my_account_menu' %>
        
        <!-- Network -->
        <%= render 'layouts/sidebar/network_menu' %>
        
        <!-- Authentication -->
        <%= render 'layouts/sidebar/authentication_menu' %>
        
        <!-- Apps Section -->
        <div class="kt-menu-item pt-2.25 pb-px">
          <span class="kt-menu-heading uppercase text-xs font-medium text-muted-foreground ps-[10px] pe-[10px]">
            Apps
          </span>
        </div>
        
        <!-- Store - Client -->
        <%#= render 'layouts/sidebar/store_menu' %>
        
      </div>
      
    </div>
  </div>
</div>